def build(bld):
    for t in ['makedcp', 'fixlengths']:
        obj = bld(features = 'cxx cxxprogram')
    	obj.uselib = 'BOOST_THREAD'
	obj.includes = ['..']
        obj.use    = ['libdvdomatic']
        obj.source = '%s.cc' % t
        obj.target = t

    if not bld.env.DISABLE_GUI:
        p = ['dvdomatic', 'alignomatic']
        if not bld.env.DISABLE_PLAYER:
            p.append('playomatic')
        for t in p:
            obj = bld(features = 'cxx cxxprogram')
            obj.uselib = 'BOOST_THREAD GTKMM'
            obj.includes = ['..']
            obj.use    = ['libdvdomatic', 'libdvdomatic-gtk']
            obj.source = '%s.cc' % t
            if bld.env.TARGET_WINDOWS:
                obj.source += ' ../../windows/icon.rc'
            obj.target = t
