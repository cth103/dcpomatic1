def configure(conf):
    conf.check_cfg(package = '', path = 'wx-config', args = '--cppflags --cxxflags --libs', uselib_store = 'WXWIDGETS', mandatory = True)

def build(bld):
    obj = bld(features = 'cxx cxxshlib')
    obj.name   = 'libdvdomatic-wx'
    obj.includes = [ '..' ]
    obj.export_includes = ['.']
    obj.uselib = 'WXWIDGETS'
    obj.use = 'libdvdomatic'
    obj.source = """
                 film_editor.cc
                 wx_util.cc
                 film_viewer.cc
                 job_manager_view.cc
                 job_wrapper.cc
                 config_dialog.cc
                 filter_dialog.cc
                 filter_view.cc
                 dcp_range_dialog.cc
                 server_dialog.cc
                 new_film_dialog.cc
                 """

#                 alignment.cc
#                 film_list.cc
#                 dvd_title_dialog.cc

    if not bld.env.DISABLE_PLAYER:
        obj.source += " film_player.cc"

    obj.target = 'dvdomatic-wx'
